---
layout: post
title: git和svn
date: 2020-11-15
categories: 前端
tags: [前端开发, git, svn]
---

## git 和 svn 区别

```
git:分布式的(每一个开发者在本地克隆一个存储库,最后合并),不需要联网就可以本地看到不同版本,内容按元数据方式存储,鼓励分支
svn:非分布式,按文件存储,需要联网查看不同版本,分支在SVN中就是版本库中的另外的一个目录
```

## linux 命令

```
sudo 管理员权限
ls -a列出目录所有文件  ls -l
pwd查看当前路径
cd跳到指定目录
mkdir创建文件夹 fileName
rm删除文件 -f(强制删除) -i(逐一询问) -r(删除子目录) -v(显示结果) fileName
echo 'content' >a.txt  覆盖写入
echo 'content' >>a.txt  文件追加写入
echo 'content' 打印内容
cat -A fileName 查看文件

mv移动文件或者重命名 fileName path
cp原文件复制到目标文件 fileName path

clear清空窗口内容
ctrl+u清空输入框
```

## git 基本使用

```
查看git配置
git config --global  --list

基本配置
git config --global user.name "用户名"
git config --global user.email "用户邮箱"

版本回退 git reset --hard HEAD^ 回退到上个版本
        git reset --hard HEAD~num 回退到num次提交前的版本
        git reset --hard 版本号
        git reset --soft 软回滚(规范commit提交记录)
        git revert 版本号 (回滚自己的提交)

创建存储库 git init
添加到暂存区 git add name
提交 git commit -m'添加注释'
查看修改内容 git diff name

创建SSH KEY  ssh-keygen -t rsa –C “youremail@example.com”
创建分支git checkout(切换到这个分支)  -b(创建) name
查看分支 git branch name(创建)
合并分支 git merge name
删除分支 git branch -d name

查看远程库 git remote -v(详细信息)
推送到远程库 git push -u(第一次推送时需要) origin master(推送master分支) --force(-f)
合并冲突(合并分支) git pull
```

nginx命令
```
nginx -s reopen  重启Nginx
nginx -s reload  重新加载配置文件，优雅重启 推荐使用
nginx -s stop  强制停止
nginx -s quit  安全退出
nginx -t  检测配置文件地址 以及检测配置是否正常
nginx -v  显示版本信息并退出
killall nginx  杀死所有nginx进程
```

nginx常用配置
```
// 监听80,访问serve_name跳转到proxy_pass,相对nginx.conf的路径
server {
        listen       80;
        server_name   chat.jiangly.com;
        location / {
                proxy_pass   http://127.0.0.1:7000;
        }
        location / {
        root /data/project1/;
        index index.html;
        }
}

// https协议证书配置
server {
    listen 443 ssl;
    server_name   chat.jiangly.com;
    // 证书文件配置以下两行
    ssl_certificate conf.d/chat.jiangly.com_ssl/1_chat.jiangly.com_bundle.crt;
    ssl_certificate_key conf.d/chat.jiangly.com_ssl/2_chat.jiangly.com.key;
    ssl_session_timeout 5m;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;
    ssl_prefer_server_ciphers on;
    location / {
        proxy_pass   http://127.0.0.1:7000;
        root html;
        index  index.html index.htm;
    }
}

# 接口反向代理
location ^~ /api/ {
    # 跨域处理 设置头部域名
    add_header Access-Control-Allow-Origin *;
    # 跨域处理 设置头部方法
    add_header Access-Control-Allow-Methods 'GET,POST,DELETE,OPTIONS,HEAD';
    # 改写路径
    rewrite ^/api/(.*)$ /$1 break;
    # 反向代理
    proxy_pass http://static_env;
    proxy_set_header Host $http_host;
}

location ~* .(?:css(.map)?|js(.map)?|gif|svg|jfif|ico|cur|heic|webp|tiff?|mp3|m4a|aac|ogg|midi?|wav|mp4|mov|webm|mpe?g|avi|ogv|flv|wmv)$ {
    # 静态资源设置七天强缓存
    expires 7d;
    access_log off;
}


// 负载均衡
upstream backserver{
    # 哈希算法，自动定位到该服务器 保证唯一ip定位到同一部机器 用于解决session登录态的问题
    ip_hash;
    server 127.0.0.1:9090 down; (down 表示单前的server暂时不参与负载)
    server 127.0.0.1:8080 weight=2; (weight 默认为1.weight越大，负载的权重就越大)
    server 127.0.0.1:6060; (默认权重1)
    server 127.0.0.1:7070 backup; (其它所有的非backup机器down或者忙的时候，请求backup机器)
}
```

