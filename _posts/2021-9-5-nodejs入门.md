---
layout: post
title: node入门
date: 2021-9-5
categories: 前端
tags: [前端开发, nodejs]
---

## node 简单实例

```
//模块引入
const http = require('http');
const fs = require('fs');

//定义端口号，地址
const hostname = '127.0.0.1';
const port = 8000;
//创建web服务器 ,回调函数req代表客服端请求 res服务端响应     http.createClient创建客户端
const server = http.createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  if(req.url !== '/favicon.ico'){
      let out = fs.createWriteStream('./log.txt') // 创建写入流
      out.write(`请求方法：${req.method} \n`)
      out.write(`请求url：${req.url} \n`)
      out.write(`请求头对象：${JSON.stringify(req.headers, null, 4)} \n`)
      out.write(`请求http版本：${req.httpVersion} \n`)
  }
  res.end('Hello World');
});
//启动服务器，监听端口
server.listen(port, hostname, () => {
  console.log(`Server running at http://${hostname}:${port}/`);
});
//设置服务器超时
server.timeout=1000

log.text

//关闭服务器
server.close([callback])

```

## node 模块

```
* http模块
request.url 客户端请求的url地址
request.headers 客户端请求的http header
request.method 获取请求的方式，一般有几个选项，POST,GET和DELETE等，服务器可以根据客户端的不同请求方法进行不同的处理。
request.httpVersion http的版本
request.trailers 存放附加的一些http头信息
request.socket 用于监听客户端请求的socket对象

response.writeHead(statusCode, [reasonPhrase], [headers])
response.statusCode html页面状态值
response.header 返回的http header，可以是字符串，也可以是对象
response.setTimeout(msecs, callback)设置http超时返回的时间，一旦超过了设定时间，连接就会被丢弃
response.statusCode 设置返回的网页状态码
response.setHeader(name, value)设置http协议头
response.headersSent判断是否设置了http的头
response.write(chunk, [encoding]) 返回的网页数据，[encoding] 默认是 utf-8
response.end([data], [encoding])


* fs模块
fs.access(): 检查文件是否存在，以及 Node.js 是否有权限访问。
fs.appendFile(): 追加数据到文件。如果文件不存在，则创建文件。
fs.chmod(): 更改文件（通过传入的文件名指定）的权限。相关方法：fs.lchmod()、fs.fchmod()。
fs.chown(): 更改文件（通过传入的文件名指定）的所有者和群组。相关方法：fs.fchown()、fs.lchown()。
fs.close(): 关闭文件描述符。
fs.copyFile(): 拷贝文件。
fs.createReadStream(): 创建可读的文件流。
fs.createWriteStream(): 创建可写的文件流。
fs.link(): 新建指向文件的硬链接。
fs.mkdir(): 新建文件夹。
fs.mkdtemp(): 创建临时目录。
fs.open(): 设置文件模式。
fs.readdir(): 读取目录的内容。
fs.readFile(): 读取文件的内容。相关方法：fs.read()。
fs.readlink(): 读取符号链接的值。
fs.realpath(): 将相对的文件路径指针（.、..）解析为完整的路径。
fs.rename(): 重命名文件或文件夹。
fs.rmdir(): 删除文件夹。
fs.stat(): 返回文件（通过传入的文件名指定）的状态。相关方法：fs.fstat()、fs.lstat()。
fs.symlink(): 新建文件的符号链接。
fs.truncate(): 将传递的文件名标识的文件截断为指定的长度。相关方法：fs.ftruncate()。
fs.unlink(): 删除文件或符号链接。
fs.unwatchFile(): 停止监视文件上的更改。
fs.utimes(): 更改文件（通过传入的文件名指定）的时间戳。相关方法：fs.futimes()。
fs.watchFile(): 开始监视文件上的更改。相关方法：fs.watch()。
fs.writeFile(): 将数据写入文件。相关方法：fs.write()

* net模块

* os模块

* events模块

* path模块
```

## npm

```
npm install -g package@
npm install --save
npm install --save -dev
npm view package versions
npm list -g
npm update
npm unisntall -g
```
